\chapter{Discussion}
\label{chap:discussion}


\section{Retraining MassSpecGym}
- loss function not optimal to determine model performance
- The SMILES validity is something the loss function can not measure.

\section{Samplers benchmark}

- Beam search: Score function using loss is not optimal


\section{\ac{BPE} as pretraining}


\section{Augmentation}

\subsection{SMILES augmentation}
- SMILES from molecular graph is deterministic, evaluation is done on only these deterministic outputs, by randomizing the SMILES with synonyms it confuses the model and will perform worse on the evaluated SMILES.
- model not powerfull enough
- BPE does not help because augmented patterns use more tokens

\subsection{Spectral augmentation}


\section{Molecular representations benchmark}

Models not optimized for hyperparameters
samplers chosen based of SMILES results

3 headed inchi could be improved by supplying the output of the previous decoder to the next, to ensure they know what molecule it is trying to predict

SELFIES can benefit from BPE because some tokens have different meaning in context of rings and groups, without the model overfitting